!function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t){function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=r(this,c(t).call(this,e))).state={hasMore:!1,loadingFlag:!1,listData:[],page:1,rows:50,totalCount:0},a}var a,o,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,React.Component),a=t,(o=[{key:"componentDidMount",value:function(){var e=$(window).height(),t=$(".header").outerHeight();$(".sangsa-title").css("height",e-t)}},{key:"initSwiper",value:function(){new Swiper(".swiper-container",{preloadImages:!0,autoHeight:!0,useCss:!0,pagination:{el:".photo_num",type:"fraction"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),jQuery(".swiper-wrapper").css("height","100%")}},{key:"loadDataFromServer",value:function(){var e=this;jQuery.ajax({type:"GET",url:"/cs/selectCompanyListAjax.do",data:{search_comp:jQuery("#searchText").val(),page:this.state.page,rows:this.state.rows},dataType:"JSON",success:function(t){var a=e.state.listData.concat(t.data);e.setState({loadingFlag:!1,listData:a,totalCount:t.count,sangsaNoImage:t.sangsaNoImage,hasMore:a.length<t.count},(function(){if(0===t.count)$(".step2-wrap").fadeOut(),alert("검색결과가 없습니다.");else{var e=$(window).height();$(".step2-wrap").fadeIn(),$("html, body").animate({scrollTop:e-50},200),this.initSwiper()}}))},error:function(){alert("error")}})}},{key:"handleScroll",value:function(){jQuery(window).scrollTop()+60>jQuery(document).height()-jQuery(window).height()&&!this.state.loadingFlag&&this.state.hasMore&&(this.state.loadingFlag=!0,this.state.page=this.state.page+1,this.loadDataFromServer())}},{key:"search",value:function(){jQuery("#searchText").val(),this.state.page=1,this.state.listData=[],this.state.totalCount=0,this.state.hasMore=!1,this.loadDataFromServer()}},{key:"searchCarAction",value:function(e){openSearchCar("search_car_sangsa",encodeURIComponent(e.coName))}},{key:"callAction",value:function(e){location.href="tel:"+e}},{key:"setErrorImg",value:function(e){e.target.src=jQuery("#sangsaNoImage").val()}},{key:"getTelNumber",value:function(e){if(!e)return"";if(-1==e.indexOf("-")){if(11==e.length)return e.substr(0,3)+"-"+e.substr(3,4)+"-"+e.substr(7,4);if(10==e.length)return e.substr(0,3)+"-"+e.substr(3,3)+"-"+e.substr(6,4);if(9==e.length)return e.substr(0,2)+"-"+e.substr(2,3)+"-"+e.substr(5,4)}return e}},{key:"goDetail",value:function(e){openPopup("sangsa_detail",e)}},{key:"render",value:function(){return React.createElement(React.Fragment,null,React.createElement("div",{className:"row sangsa-title"},React.createElement("div",{className:"column member_box"},React.createElement("div",{className:"tit"},React.createElement("img",{src:"../images/search_logo.png"}),React.createElement("p",null,"상사 조회 서비스"),React.createElement("span",null,"부산 오토필드에서 근무하시는 중고차 딜러(종사원)분들을 조회하실 수 있습니다.",React.createElement("br",null),"상사명을 입력하세요.")),React.createElement("div",{className:"search"},React.createElement("div",null,React.createElement("input",{type:"text",id:"searchText",name:"searchText",placeholder:"상사명 입력"}),React.createElement("button",{type:"button",className:"button",onClick:this.search.bind(this)},"검색"))))),React.createElement("div",{className:"step2-wrap",style:{display:"none"}},React.createElement("div",{className:"divide"}),React.createElement("div",{className:"title_wrap"},React.createElement("h2",null,"조회결과")),React.createElement("div",{className:"row",style:{background:"#f8f8f8"}},React.createElement("div",{className:"column total-text"},React.createElement("span",{className:"total-text"},"총 검색결과 ",React.createElement("strong",null,addComma(this.state.totalCount)),"건"))),React.createElement("div",{className:"row",style:{background:"#f8f8f8"}},React.createElement("div",{className:"column"},React.createElement("ul",{className:"usedcar-list list-dealer"},function(){return this.state.listData&&this.state.listData.length>0?this.state.listData.map((function(e,t){return React.createElement("li",{key:t},function(){return null!==e.coMainImage?React.createElement("div",{className:"thumb",style:{backgroundImage:"url('"+e.uploadPath+"/"+e.coMainImage+"'), url('"+this.state.sangsaNoImage+"')"}}):React.createElement("div",{className:"thumb",style:{backgroundImage:"url('"+this.state.sangsaNoImage+"')"}})}.call(this),React.createElement("div",{className:"info-wrap"},function(){return"01"===e.coStatusCd?React.createElement("div",{className:"photo open"},React.createElement("span",null,"영업중")):React.createElement("div",{className:"photo close"},React.createElement("span",null,"폐업"))}.call(this),React.createElement("div",{className:"pdt-info"},React.createElement("p",{className:"pdt-name"},e.coName),React.createElement("p",{className:"dealer-opt"},React.createElement("span",null,"대표자")," ",e.coCeo,React.createElement("br",null),React.createElement("span",null,"사업자번호")," ",e.coNewconum,React.createElement("br",null),React.createElement("span",null,"지부/ 단지")," ",e.coBranch+"/"+e.coComplex,React.createElement("br",null),React.createElement("span",null,"주소")," ",e.coAddr1+(e.coAddr2?" "+e.coAddr2:""),React.createElement("br",null),React.createElement("span",null,"전화번호")," ",this.getTelNumber(e.coTel),React.createElement("br",null),React.createElement("span",null,"종사원수")," ",e.delrCnt+"명")),React.createElement("div",{className:"button-group"},React.createElement("button",{type:"button",className:"button color-red2",onClick:this.goDetail.bind(this,e.coNo)},"상세보기"))))}),this):React.createElement("li",{className:"data-empty"},"검색된 상사가 없습니다.")}.call(this))))))}}])&&n(a.prototype,o),s&&n(a,s),t}();ReactDOM.render(React.createElement(o,null),document.getElementById("companyList"))}]);